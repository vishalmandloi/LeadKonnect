
<div class="container">
    <div class="row">
        <div class="col-sm-12">
            <div class="dmp-container" ng-init="vm.GetAllHeadOffice()">
                <h2>Head Office Management</h2>
                
                <div class="tab-content">
                    <div class="alert alert-success" role="alert" ng-show="vm.SuccessMsg">{{vm.SuccessMsg}}</div>
                    <div class="alert alert-danger" role="alert" ng-show="vm.ErrorMsg">{{vm.ErrorMsg}}</div>
                    <div id="available-job" class="tab-pane fade in active">
                        <input type="text" class="searchBox" ng-model="vm.searchText" placeholder="search......" />
                        <button class="admin-search-btn" ng-click="vm.GetAllHeadOffice()"><i class="fa fa-search"></i></button>
                        <button class="admin-reset-btn" ng-click="vm.searchText='';vm.GetAllHeadOffice()">Reset</button>
                        <a class="pull-right btn btn-primary btn-create"  ui-sref="admin.createheadoffice"><span> Create Head Office</span></a>
                        <br />
                        <div class="alert alert-info" role="alert" ng-show="vm.headOfficeList.length==0">No record found</div>
                        <div ng-show="vm.headOfficeList.length>0" class=" table-responsive default-skin demo clearfix">
                            <div ng-scrollbars ng-scrollbars-config="config" ng-scrollbars-update=updateScrollbar class="table-responsive default-skin demo content">
                                <table class="table table-bordered table-hover jobs-table">
                                <thead>
                                    <tr>
                                        <th>S.No</th>
                                        <th>Company Name</th>
                                        <th>First Name</th>
                                        <th>Last Name</th>
                                        <th>Email</th>
                                        <th>Mobile Number</th>
                                        <th>Address1</th>
                                        <th>Address2</th>
                                        <th>City</th>
                                        <th>Postal Code</th>
                                        <th>Sub-Office</th>
                                        <th>Action</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="(key,d) in vm.headOfficeList">
                                        <td>{{d.ROW_NUM}}</td>
                                        <td>{{d.companyName}}</td>
                                        <td>{{d.firstName}}</td>
                                        <td>{{d.lastName}}</td>
                                        <td>{{d.emailId}}</td>
                                        <td>{{d.mobileNumber}}</td>
                                        <td>{{d.companyAddress}}</td>
                                        <td>{{d.address2}}</td>
                                        <td>{{d.city}}</td>
                                        <td>{{d.postalCode}}</td>
                                        <td>
                                            <button class="send-invoice-btn" ng-click="vm.GetAllSubOffice(d)"><span>View</span></button>
                                        </td>
                                        <td>
                                            <a class="btn btn-primary btn-admin" ui-sref="admin.editheadoffice({id:d.headOfficeId})"><i class="fa fa-edit"></i></a>
                                            <button class="btn btn-info btn-admin" ng-show="d.isActive" ng-click="vm.confirmbox ('Block',d)"><span>Block</span></button>
                                            <button class="btn btn-success btn-admin" ng-hide="d.isActive" ng-click="vm.confirmbox ('Unblock',d)"><span>Unblock</span></button>
                                            <button class="btn btn-danger btn-admin" ng-click="vm.confirmbox('Delete',d)"><span><i class="fa fa-trash"></i></span></button>
                                        </td>
                                    </tr>
                                </tbody>
                                </table>
                            </div>

                        </div>

                    </div>

                </div>
            </div>
        </div>
    </div>
</div>


<!-- Modal -->
<div class="modal fade" id="subOfficeModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">Sub Office</h4>
            </div>
            <div class="modal-body">
                <div class="table-responsive default-skin demo content mCustomScrollbar">
                    <table class="table table-bordered table-hover jobs-table">
                        <thead>
                            <tr>
                                <th>Area/Region</th>
                                <th>Name</th>
                                <th>e-mail</th>
                                <th>Mobile number</th>
                                <th>Tel number</th>
                                <th>Address2</th>
                                <th>City</th>
                                <th>Postal Code</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="(akey,l) in  vm.subOfficeList">
                                <td>{{l.areaName}}</td>
                                <td>{{l.name}}</td>
                                <td>{{l.email}}</td>
                                <td>{{l.mobileNumber}}</td>
                                <td>{{l.telNumber}}</td>
                                <td>{{l.address2}}</td>
                                <td>{{l.city}}</td>
                                <td>{{l.postalCode}}</td>
                            </tr>

                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>